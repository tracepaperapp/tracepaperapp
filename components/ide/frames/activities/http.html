<template x-component="activity-http">
  <div x-import="utils/editor-elements">
    <ui-text-field
            :value="activity.att_name"
            @updated.debounce="activity.att_name = $event.detail.value;$dispatch('flow-updated')"
            :pattern="camel_cased"
            description="Result variable name: "></ui-text-field>

    <ui-text-field
            :value="activity.att_url"
            @updated.debounce="activity.att_url = $event.detail.value;$dispatch('flow-updated')"
            description="Url: "></ui-text-field>

    <ui-selection :value="activity.att_method"
                  @updated.debounce="activity.att_method = $event.detail.value;$dispatch('flow-updated')"
                  description="Method: "
                  :options="http_methods"></ui-selection>

    <ui-text-field
            :value="activity.att_params ? activity.att_params : '#{}'"
            @updated.debounce="activity.att_params = $event.detail.value;$dispatch('flow-updated')"
            description="Query parameters: "></ui-text-field>

    <ui-text-field
            :value="activity.att_headers ? activity.att_headers : '#{}'"
            @updated.debounce="activity.att_headers = $event.detail.value;$dispatch('flow-updated')"
            description="Headers: "></ui-text-field>

    <ui-selection :value="activity['att_load-json']"
                  @updated.debounce="activity['att_load-json'] = $event.detail.value;$dispatch('flow-updated')"
                  description="Deserialize json: "
                  :options="boolean_text"></ui-selection>

    <ui-text-area
            :value="activity.att_body.replaceAll('|LB|','\n')"
            use-pre-tag
            @updated.debounce="activity.att_body = $event.detail.value.replaceAll('\n','|LB|');$dispatch('flow-updated')"
            description="Body: "></ui-text-area>

  </div>
</template>