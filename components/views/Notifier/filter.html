<!--
This file is managed by the tracepaper modeler, if you want to customize this view
please make sure you rename the file.
-->
<template x-component="notifier-filter">
    <div>
        <draftsman-query :alias="$prop('alias')" authenticated>
     query FilterNotifier($subFlow_equals: Boolean = false, $key_begins_with: String = "") {
       Notifier {
         filter(subFlow_equals: $subFlow_equals, key_begins_with: $key_begins_with) {
            resultset { 
             key
             drn
             name
             summary
             documentation
             subFlow
             projectDrn
             triggers {
               eventName
               keyField
               mapping {
                 eventFieldName
                 flowVariableName
               } 
             } 
             activities {
               type
               order
               groupName
               userName
               password
               sender
               receiver
               subject
               text
               html
               variableName
               propertyKey
               expression
               templateDrn
               fileName
               content
               bucket
               path
               handler
               scriptDrn
               dmnDrn
               inputs {
                 variableName
                 mapping
               } 
               outputs {
                 variableName
                 target
               } 
               url
               method
               loadJson
               params
               headers
               identifier
               notificationType
               message
               eventName
               sendAfter
               uri
               array
               sub
               failSilent
             } 
             flowVars {
               name
               type
             } 
           }
         }
       }
     }
        </draftsman-query>
        <div x-init="$store.forms[$prop('alias')] = $el.innerHTML" style="display:none;">
[
  {
    "name": "subFlow_equals",
    "type": "Boolean",
    "title": "Subflow Equals"
  },
  {
    "name": "key_begins_with",
    "type": "String",
    "title": "Key Begins With"
  }
]
        </div>
    </div>
</template>